webpackJsonp([16],{"CBE/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),n=a("jeSC"),r=a("R/2u"),l=a("8VXF"),o=a("REme"),c={name:"BloggerIntroduction",components:{ToolLoading:l.a,EmptyView:n.a},data:function(){return{result:{},resume:{data:[],total:0},display:[{key:"作者",value:"author"},{key:"性别",value:"gender"},{key:"年龄",value:"age"},{key:"职位",value:"profession"},{key:"电话",value:"telephone"},{key:"电子邮箱",value:"email"}],detail:[{url1:"static/images/personalInfo/special.svg",url2:"static/images/personalInfo/common.svg",info:"简历"},{url1:"static/images/print/special.svg",url2:"static/images/print/common.svg",info:"打印"},{url1:"static/images/photo/special.svg",url2:"static/images/photo/common.svg",info:"查看照片"},{url1:"static/images/mail/special.svg",url2:"static/images/mail/common.svg",info:"给我发电子邮件?"}],emailInfo:[{key:"发件人",value:"sender"},{key:"收件人",value:"recipient"},{key:"邮件主题",value:"subject"},{key:"邮件内容",value:"content"},{key:"邮件附件",value:""}],emailForm:{sender:"",recipient:"",subject:"",content:""},current:"",loading:!1}},computed:{avatar:function(){return"{}"!==s()(this.result)?o.a.getImageOriginal()+encodeURIComponent(this.result.headPortrait):""}},methods:{sureContent:function(t){this.current!==t&&(this.current=t)},getMyInfo:function(){var t=this,e={condition:{userId:t.$route.query.userId}};Object(r.k)(e).then(function(e){200===e.status?e.total>0?(t.resume.data=e.data,t.resume.total=e.total):t.$msg("查询结果为空"):t.$msg("查询异常! "+e.message)}).catch().finally()},checkForm:function(){return this.emailForm.sender?/^([0-9A-Za-z_\\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)$/g.test(this.emailForm.sender)?this.emailForm.subject?!!this.emailForm.content||(this.$msg("邮件文本不能为空","warning"),!1):(this.$msg("邮件主题不能为空","warning"),!1):(this.$msg("邮件格式错误","warning"),!1):(this.$msg("邮件发件人不能为空","warning"),!1)},sendMail:function(){var t=this;if(t.checkForm()){var e={condition:{sender:t.emailForm.sender,recipient:t.emailForm.recipient,subject:t.emailForm.subject,content:t.emailForm.content}};t.loading=!0,Object(r.u)(e).then(function(e){200===e.status?t.$msg("邮件发送成功","success"):t.$msg("邮件发送失败")}).catch(function(){t.$msg("邮件发送失败")}).finally(function(){t.loading=!1})}},getBlogger:function(){var t=this,e={condition:{userId:t.$route.query.userId}};Object(r.e)(e).then(function(e){200===e.status?e.total>0?t.result=e.data[0]:t.$msg("查询结果为空"):t.$msg("查询异常! "+e.message)}).catch().finally()}},mounted:function(){this.sureContent(0),this.getMyInfo(),this.getBlogger()}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blogger-introduction"},[a("div",{staticClass:"el-frame-left"},[a("div",{staticClass:"inner-text"},[a("div",{staticClass:"avatar"},[a("div",{staticClass:"inner-border"},[a("el-avatar",{attrs:{shape:"square",src:t.avatar}})],1)]),t._v(" "),a("div",{staticClass:"simple-info"},[a("div",{staticClass:"inner-info"},t._l(t.display,function(e,i){return a("div",{key:i,staticClass:"circle-display",style:{height:100/t.display.length+"%"}},[a("div",{staticClass:"key"},[t._v(t._s(e.key))]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.result[e.value]))])])}),0)])])]),t._v(" "),a("div",{staticClass:"el-frame-right"},[a("div",{staticClass:"detail-header"},t._l(t.detail,function(e,i){return a("div",{key:i,staticClass:"detail-content",class:t.current===i?"detail-choose":"",on:{click:function(e){return t.sureContent(i)}}},[a("img",{staticClass:"inner-img",attrs:{src:t.current===i?e.url1:e.url2}}),t._v(" "),a("span",[t._v(t._s(e.info))])])}),0),t._v(" "),0===t.current?a("div",{staticClass:"detail-show-0"},[0===t.resume.total?a("empty-view"):a("el-scrollbar",{staticClass:"detail-inner-info"},t._l(t.resume.data,function(e,i){return a("div",{key:i,staticClass:"past-info",style:{height:(e.info.length?12*e.info.length+2.5:0)+"rem"}},[a("div",{staticClass:"title"},[t._v(t._s(e.type))]),t._v(" "),t._l(e.info,function(e,i){return a("div",{key:i,staticClass:"content"},[a("div",{staticClass:"inner-info"},[a("span",[t._v(t._s(e.mechanism))]),t._v(" "),a("span",[t._v(t._s(e.startTime+" ~ "+e.endTime))]),t._v(" "),a("span",[t._v(t._s(e.position))]),t._v(" "),a("div",[t._v(t._s(e.introduction))])])])})],2)}),0)],1):1===t.current?a("div",{staticClass:"detail-show-2"},[a("empty-view")],1):2===t.current?a("div",{staticClass:"detail-show-2"},[a("empty-view")],1):3===t.current?a("div",{staticClass:"detail-show-3"},[a("div",{staticClass:"email-head"},[t._v("\n                联系 && 交流\n            ")]),t._v(" "),a("el-form",{ref:"emailForm",attrs:{model:t.emailForm,"label-width":"8rem"}},t._l(t.emailInfo,function(e,i){return a("el-form-item",{key:i,attrs:{label:e.key}},[a("el-input",{attrs:{type:"邮件内容"===e.key?"textarea":"text"},model:{value:t.emailForm[e.value],callback:function(a){t.$set(t.emailForm,e.value,a)},expression:"emailForm[item.value]"}})],1)}),1),t._v(" "),a("el-button",{staticClass:"email-tail",attrs:{type:"primary"},on:{click:t.sendMail}},[t._v("Send")])],1):t._e()]),t._v(" "),a("tool-loading",{attrs:{loading:t.loading}})],1)},staticRenderFns:[]};var m=a("VU/8")(c,u,!1,function(t){a("Xv59")},"data-v-3a13a0e9",null);e.default=m.exports},Xv59:function(t,e){}});
//# sourceMappingURL=16.868fdf58928564d0172b.js.map